# !/usr/bin/env python
# -*- coding: utf-8 -*-
# date: 2020/06/06
# author: Suqier
# email: suqier5637@foxmail.com
# 在这里尝试着翻译并自己练习黄海广博士的numpy-100项目
# 项目原地址：https://github.com/rougier/numpy-100

# 第八十四题：从随机的 10 x 10 矩阵中提取所有连续的 3 x 3 块
# Author: Chris Barker

from numpy.lib import stride_tricks
import numpy as np

Z = np.random.randint(0, 5, (10, 10))
n = 3
i = 1 + (Z.shape[0] - 3)
j = 1 + (Z.shape[1] - 3)
C = stride_tricks.as_strided(Z, shape=(i, j, n, n), strides=Z.strides + Z.strides)
print(C)

# 输出内容：
# [[[[0 3 1]
#    [3 3 1]
#    [2 1 2]]
#
#   [[3 1 2]
#    [3 1 3]
#    [1 2 1]]
#
#   [[1 2 3]
#    [1 3 2]
#    [2 1 2]]
#
#   [[2 3 0]
#    [3 2 3]
#    [1 2 4]]
#
#   [[3 0 2]
#    [2 3 0]
#    [2 4 4]]
#
#   [[0 2 2]
#    [3 0 3]
#    [4 4 1]]
#
#   [[2 2 0]
#    [0 3 0]
#    [4 1 0]]
#
#   [[2 0 1]
#    [3 0 4]
#    [1 0 0]]]
#
#
#  [[[3 3 1]
#    [2 1 2]
#    [4 0 0]]
#
#   [[3 1 3]
#    [1 2 1]
#    [0 0 2]]
#
#   [[1 3 2]
#    [2 1 2]
#    [0 2 0]]
#
#   [[3 2 3]
#    [1 2 4]
#    [2 0 4]]
#
#   [[2 3 0]
#    [2 4 4]
#    [0 4 4]]
#
#   [[3 0 3]
#    [4 4 1]
#    [4 4 3]]
#
#   [[0 3 0]
#    [4 1 0]
#    [4 3 1]]
#
#   [[3 0 4]
#    [1 0 0]
#    [3 1 4]]]
#
#
#  [[[2 1 2]
#    [4 0 0]
#    [2 3 2]]
#
#   [[1 2 1]
#    [0 0 2]
#    [3 2 4]]
#
#   [[2 1 2]
#    [0 2 0]
#    [2 4 2]]
#
#   [[1 2 4]
#    [2 0 4]
#    [4 2 2]]
#
#   [[2 4 4]
#    [0 4 4]
#    [2 2 2]]
#
#   [[4 4 1]
#    [4 4 3]
#    [2 2 4]]
#
#   [[4 1 0]
#    [4 3 1]
#    [2 4 2]]
#
#   [[1 0 0]
#    [3 1 4]
#    [4 2 2]]]
#
#
#  [[[4 0 0]
#    [2 3 2]
#    [1 3 0]]
#
#   [[0 0 2]
#    [3 2 4]
#    [3 0 3]]
#
#   [[0 2 0]
#    [2 4 2]
#    [0 3 1]]
#
#   [[2 0 4]
#    [4 2 2]
#    [3 1 4]]
#
#   [[0 4 4]
#    [2 2 2]
#    [1 4 3]]
#
#   [[4 4 3]
#    [2 2 4]
#    [4 3 2]]
#
#   [[4 3 1]
#    [2 4 2]
#    [3 2 1]]
#
#   [[3 1 4]
#    [4 2 2]
#    [2 1 0]]]
#
#
#  [[[2 3 2]
#    [1 3 0]
#    [2 1 3]]
#
#   [[3 2 4]
#    [3 0 3]
#    [1 3 3]]
#
#   [[2 4 2]
#    [0 3 1]
#    [3 3 0]]
#
#   [[4 2 2]
#    [3 1 4]
#    [3 0 0]]
#
#   [[2 2 2]
#    [1 4 3]
#    [0 0 1]]
#
#   [[2 2 4]
#    [4 3 2]
#    [0 1 2]]
#
#   [[2 4 2]
#    [3 2 1]
#    [1 2 0]]
#
#   [[4 2 2]
#    [2 1 0]
#    [2 0 1]]]
#
#
#  [[[1 3 0]
#    [2 1 3]
#    [4 4 3]]
#
#   [[3 0 3]
#    [1 3 3]
#    [4 3 3]]
#
#   [[0 3 1]
#    [3 3 0]
#    [3 3 4]]
#
#   [[3 1 4]
#    [3 0 0]
#    [3 4 1]]
#
#   [[1 4 3]
#    [0 0 1]
#    [4 1 1]]
#
#   [[4 3 2]
#    [0 1 2]
#    [1 1 4]]
#
#   [[3 2 1]
#    [1 2 0]
#    [1 4 3]]
#
#   [[2 1 0]
#    [2 0 1]
#    [4 3 3]]]
#
#
#  [[[2 1 3]
#    [4 4 3]
#    [3 3 0]]
#
#   [[1 3 3]
#    [4 3 3]
#    [3 0 4]]
#
#   [[3 3 0]
#    [3 3 4]
#    [0 4 0]]
#
#   [[3 0 0]
#    [3 4 1]
#    [4 0 3]]
#
#   [[0 0 1]
#    [4 1 1]
#    [0 3 2]]
#
#   [[0 1 2]
#    [1 1 4]
#    [3 2 0]]
#
#   [[1 2 0]
#    [1 4 3]
#    [2 0 0]]
#
#   [[2 0 1]
#    [4 3 3]
#    [0 0 3]]]
#
#
#  [[[4 4 3]
#    [3 3 0]
#    [0 4 2]]
#
#   [[4 3 3]
#    [3 0 4]
#    [4 2 0]]
#
#   [[3 3 4]
#    [0 4 0]
#    [2 0 4]]
#
#   [[3 4 1]
#    [4 0 3]
#    [0 4 1]]
#
#   [[4 1 1]
#    [0 3 2]
#    [4 1 0]]
#
#   [[1 1 4]
#    [3 2 0]
#    [1 0 3]]
#
#   [[1 4 3]
#    [2 0 0]
#    [0 3 4]]
#
#   [[4 3 3]
#    [0 0 3]
#    [3 4 4]]]]
